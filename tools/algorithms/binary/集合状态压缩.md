# 概念

对于一个全集 $U=\{e_1, e_2,\cdots,e_n\}$ ，从中选择若干个元素可以构成一个集合，如果我们知道集合是否选择了元素 $e_1$ 、是否选择了元素 $e_2$ ，……，是否选择了元素 $e_n$ ，我们就能确定这个集合包含哪几个元素，也就确定了集合的状态。

用第 $i$ 位（$i$ 从 $1$ 开始）二进制表示集合是否包含元素 $e_i$ ，便可将集合的状态压缩成一个二进制整数，二进制的位数等于全集中元素的个数。

如对于全集 $U=\{a,b,c,d\}$ ，可以用状态 0011 表示集合 $\{a,b\}$ ，状态 0101 表示集合 $\{a,c\}$ ，状态 1111 表示全集 $U$ 本身。

# 基本操作

给定两个状态压缩表示的集合 $A,B$ ，两者按位或得到 $A\cap B$ ，两者按位与得到 $A\cup B$ 。

# 遍历子集

遍历一个集合的所有非空子集

```cpp
void trave_subsets(int s) {
    for (int i = s; i > 0; i = (i - 1) & s) {

    }
}
```

$s=111_2$ 时非空子集遍历顺序为

```text
111
110
101
100
011
010
001
```

$s=10110_2$ 时非空子集遍历顺序为

```text
10110
10100
10010
10000
00110
00100
00010
```

> 如果只看低 $1,2,4$ 位（从 $0$ 开始计）会发现与 $s=7$ 时的变化情况一致。故知 `j = (j-1) & s` 这一步相当于把 $s$ 相当于忽略整数中 $s$ 取 $0$ 的位，对整数剩余部分依次减 $1$ . 或者说 `& s` 的步骤直接跳过了 $j$ 自减过程中不是 $s$ 子集的数字。
